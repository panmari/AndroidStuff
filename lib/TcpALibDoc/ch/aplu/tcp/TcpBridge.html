<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0) on Fri Oct 07 01:01:00 CEST 2011 -->
<title>TcpBridge</title>
<meta name="date" content="2011-10-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TcpBridge";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/aplu/tcp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ch/aplu/tcp/TcpAgentListener.html" title="interface in ch.aplu.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ch/aplu/tcp/TcpBridgeAdapter.html" title="class in ch.aplu.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/aplu/tcp/TcpBridge.html" target="_top">Frames</a></li>
<li><a href="TcpBridge.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.aplu.tcp</div>
<h2 title="Class TcpBridge" class="title">Class TcpBridge</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ch.aplu.tcp.TcpBridge</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TcpBridge</span>
extends java.lang.Object</pre>
<div class="block">A bridge acts as a TcpNode, thus seen from the network it is a HTTP client
 connected to the TcpRelay server. But seen from the application developer
 it is a server that communicates with TcpAgent clients.
 Several bridges may be running on the same host using the same port,
 from the host the look like HTTP clients connected to the relay server.
 Even the TcpRelay and TcpBridges and TcpAgents may run on the same host.<br><br>
 To synchronize events that should happen at the same time by all agents,
 synchronize first the clocks of all participant by calling sendSyncRequest().
 Then transmit a send command containing the clock time when the event should
 happen (use TcpTools.toIntAry(), TcpTools.toLong() to split/merge clock times).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#TcpBridge(java.lang.String, int, java.lang.String, java.lang.String)">TcpBridge</a></strong>(java.lang.String&nbsp;relay,
         int&nbsp;port,
         java.lang.String&nbsp;relayID,
         java.lang.String&nbsp;bridgeName)</code>
<div class="block">Creates a TcpBridge instance for communications between agents.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#TcpBridge(java.lang.String, java.lang.String)">TcpBridge</a></strong>(java.lang.String&nbsp;sessionID,
         java.lang.String&nbsp;bridgeName)</code>
<div class="block">Creates a TcpBridge instance for communications between agents.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#addTcpBridgeListener(ch.aplu.tcp.TcpBridgeListener)">addTcpBridgeListener</a></strong>(<a href="../../../ch/aplu/tcp/TcpBridgeListener.html" title="interface in ch.aplu.tcp">TcpBridgeListener</a>&nbsp;listener)</code>
<div class="block">Registers a TcpBridgeListener that pipes the data and reports connection state changes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#connectToRelay()">connectToRelay</a></strong>()</code>
<div class="block">Same as connectToRelay(timeout), but waits infinitely for connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#connectToRelay(int)">connectToRelay</a></strong>(int&nbsp;timeout)</code>
<div class="block">Connects to the tunneling relay given sessionID and timeout.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#disconnect()">disconnect</a></strong>()</code>
<div class="block">Disconnects the bridge from the relay.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getBridgeName()">getBridgeName</a></strong>()</code>
<div class="block">Returns the requested bridge nickname.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getClockTime()">getClockTime</a></strong>()</code>
<div class="block">Returns current time of internal clock synchronized with the relay's clock (in ms).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getPersonalName()">getPersonalName</a></strong>()</code>
<div class="block">Returns the nickname attributed by the relay after successful connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getPort()">getPort</a></strong>()</code>
<div class="block">Returns the IP port number used by the relay server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getRelay()">getRelay</a></strong>()</code>
<div class="block">Returns the IP address of the relay server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../ch/aplu/tcp/TcpNode.html" title="class in ch.aplu.tcp">TcpNode</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getTcpNode()">getTcpNode</a></strong>()</code>
<div class="block">Returns the TcpNode reference responsible for the connection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">Returns current version information of TcpALib.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#isConnected()">isConnected</a></strong>()</code>
<div class="block">Checks if the bridge is connected to the relay.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#send(java.lang.String, java.lang.String, int...)">send</a></strong>(java.lang.String&nbsp;source,
    java.lang.String&nbsp;destination,
    int...&nbsp;data)</code>
<div class="block">Sends data to destination including the given source indicator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#sendCommand(java.lang.String, java.lang.String, int, int...)">sendCommand</a></strong>(java.lang.String&nbsp;source,
           java.lang.String&nbsp;destination,
           int&nbsp;command,
           int...&nbsp;data)</code>
<div class="block">Sends data to destination including the given source indicator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#sendCommandToGroup(java.lang.String, java.util.ArrayList, int, int, int...)">sendCommandToGroup</a></strong>(java.lang.String&nbsp;source,
                  java.util.ArrayList&lt;java.lang.String&gt;&nbsp;destinations,
                  int&nbsp;delay,
                  int&nbsp;command,
                  int...&nbsp;data)</code>
<div class="block">Same as sendCommand(), but sends the data to all members of the given list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#sendRelayRequest(java.lang.String)">sendRelayRequest</a></strong>(java.lang.String&nbsp;request)</code>
<div class="block">Sends a request to the relay.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#sendSynchRequest()">sendSynchRequest</a></strong>()</code>
<div class="block">Sends a clock synchronization request on a new TCP/IP channel
 (not influenced by the current traffic between the relay and the node).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpBridge.html#sendToGroup(java.lang.String, java.util.ArrayList, int, int...)">sendToGroup</a></strong>(java.lang.String&nbsp;source,
           java.util.ArrayList&lt;java.lang.String&gt;&nbsp;destinations,
           int&nbsp;delay,
           int...&nbsp;data)</code>
<div class="block">Same as send(), but sends the data to all members of the given list.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TcpBridge(java.lang.String, int, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TcpBridge</h4>
<pre>public&nbsp;TcpBridge(java.lang.String&nbsp;relay,
         int&nbsp;port,
         java.lang.String&nbsp;relayID,
         java.lang.String&nbsp;bridgeName)</pre>
<div class="block">Creates a TcpBridge instance for communications between agents.
 All communications between the agent and the bridge
 are tunneled through a relay with given IP address, IP port and relay ID</div>
</li>
</ul>
<a name="TcpBridge(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TcpBridge</h4>
<pre>public&nbsp;TcpBridge(java.lang.String&nbsp;sessionID,
         java.lang.String&nbsp;bridgeName)</pre>
<div class="block">Creates a TcpBridge instance for communications between agents.
 All communications between the agent and the bridge
 are tunneled through a relay.
 The relay IP,the port and the relay ID are extracted from the
 TcpProperties file. If the file or an entry is not found, the following
 default values are used <br><br>
 RelayID: clab3.phbern.ch
 RelayPort: 80
 RelayID: the ID of the server clab3.phbern.ch</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="connectToRelay(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectToRelay</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.String&gt;&nbsp;connectToRelay(int&nbsp;timeout)</pre>
<div class="block">Connects to the tunneling relay given sessionID and timeout.
 Blocking method until connection to the relay is established or timeout expires.
 Returns a list of all already connected node nicknames, starting with the
 nickname the relay allocates to the connecting bridge (may be appended
 by (n), if the same nickname already exists. If connect returns
 with a timeout, the list is empty.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - in ms; if <=0 waits infinitely for connection</dd>
<dt><span class="strong">Returns:</span></dt><dd>the list of all already connected agents</dd></dl>
</li>
</ul>
<a name="connectToRelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectToRelay</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.String&gt;&nbsp;connectToRelay()</pre>
<div class="block">Same as connectToRelay(timeout), but waits infinitely for connection.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the list of all already connected agents</dd></dl>
</li>
</ul>
<a name="disconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Disconnects the bridge from the relay.</div>
</li>
</ul>
<a name="send(java.lang.String, java.lang.String, int...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public&nbsp;void&nbsp;send(java.lang.String&nbsp;source,
        java.lang.String&nbsp;destination,
        int...&nbsp;data)</pre>
<div class="block">Sends data to destination including the given source indicator.
 For transmission (using the internal TcpNode) the integer array
 is converted into a string where each integer is separated by '&'.
 The string length is restricted to 500 characters for security reasons
 (relaying stopped, if exceeded).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - the nickname of an agent that indicates the source of the data</dd><dd><code>destination</code> - the nickname of a agent to whom the data will be sent</dd><dd><code>data</code> - an integer array or any number of integers</dd></dl>
</li>
</ul>
<a name="sendCommand(java.lang.String, java.lang.String, int, int...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCommand</h4>
<pre>public&nbsp;void&nbsp;sendCommand(java.lang.String&nbsp;source,
               java.lang.String&nbsp;destination,
               int&nbsp;command,
               int...&nbsp;data)</pre>
<div class="block">Sends data to destination including the given source indicator.
 For transmission (using the internal TcpNode) the integer array
 is converted into a string where each integer is separated by '&'.
 The string length is restricted to 500 characters for security reasons
 (relaying stopped, if exceeded).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - the nickname of an agent that indicates the source of the data</dd><dd><code>destination</code> - the nickname of a agent to whom the data will be sent</dd><dd><code>command</code> - an integer that is interpreted as command tag</dd><dd><code>data</code> - an integer array or any number of integers</dd></dl>
</li>
</ul>
<a name="sendToGroup(java.lang.String, java.util.ArrayList, int, int...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendToGroup</h4>
<pre>public&nbsp;void&nbsp;sendToGroup(java.lang.String&nbsp;source,
               java.util.ArrayList&lt;java.lang.String&gt;&nbsp;destinations,
               int&nbsp;delay,
               int...&nbsp;data)</pre>
<div class="block">Same as send(), but sends the data to all members of the given list.
 Runs in its onw thread. When returned the data may not yet been arrived at all the destination.
 On a heavily loaded system with many opened Tcp/IP connections, data
 may get lost, when sent to many agents at the same time. Use delay to stagger.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - the nickname of an agent that indicates the source of the data</dd><dd><code>destinations</code> - the list of nicknames of the agents to whom the data will be sent</dd><dd><code>delay</code> - the delay in ms between successive data sending to agents</dd><dd><code>data</code> - an integer array or any number of integers</dd></dl>
</li>
</ul>
<a name="sendCommandToGroup(java.lang.String, java.util.ArrayList, int, int, int...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCommandToGroup</h4>
<pre>public&nbsp;void&nbsp;sendCommandToGroup(java.lang.String&nbsp;source,
                      java.util.ArrayList&lt;java.lang.String&gt;&nbsp;destinations,
                      int&nbsp;delay,
                      int&nbsp;command,
                      int...&nbsp;data)</pre>
<div class="block">Same as sendCommand(), but sends the data to all members of the given list.
 Runs in its onw thread. When returned the data may not yet been arrived at all the destination.
 On a heavily loaded system with many opened Tcp/IP connections, data
 may get lost, when sent to many agents at the same time. Use delay to stagger.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>source</code> - the nickname of an agent that indicates the source of the data</dd><dd><code>destinations</code> - the nickname of a agent to whom the data will be sent</dd><dd><code>delay</code> - the delay in ms between successive data sending to agents</dd><dd><code>command</code> - an integer that is interpreted as command tag</dd><dd><code>data</code> - an integer array or any number of integers</dd></dl>
</li>
</ul>
<a name="sendRelayRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRelayRequest</h4>
<pre>public&nbsp;void&nbsp;sendRelayRequest(java.lang.String&nbsp;request)</pre>
<div class="block">Sends a request to the relay. The relays answers with a status notification.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - a string representing the request as
 defined as static in class TcpNode</dd></dl>
</li>
</ul>
<a name="addTcpBridgeListener(ch.aplu.tcp.TcpBridgeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTcpBridgeListener</h4>
<pre>public&nbsp;void&nbsp;addTcpBridgeListener(<a href="../../../ch/aplu/tcp/TcpBridgeListener.html" title="interface in ch.aplu.tcp">TcpBridgeListener</a>&nbsp;listener)</pre>
<div class="block">Registers a TcpBridgeListener that pipes the data and reports connection state changes.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the listener to register</dd></dl>
</li>
</ul>
<a name="isConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected()</pre>
<div class="block">Checks if the bridge is connected to the relay.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true, if the connection is established; otherwise false</dd></dl>
</li>
</ul>
<a name="getRelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRelay</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRelay()</pre>
<div class="block">Returns the IP address of the relay server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the IP address of the relay</dd></dl>
</li>
</ul>
<a name="getPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;int&nbsp;getPort()</pre>
<div class="block">Returns the IP port number used by the relay server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the port number</dd></dl>
</li>
</ul>
<a name="getBridgeName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBridgeName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getBridgeName()</pre>
<div class="block">Returns the requested bridge nickname.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the nickname requested when connecting to the relay</dd></dl>
</li>
</ul>
<a name="getPersonalName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPersonalName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPersonalName()</pre>
<div class="block">Returns the nickname attributed by the relay after successful connection.
 After connection the relay may append a (n) trailer to resolve name clashs.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the nickname attributed by the relay or empty if not yet connected</dd></dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVersion()</pre>
<div class="block">Returns current version information of TcpALib.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>version information</dd></dl>
</li>
</ul>
<a name="getClockTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClockTime</h4>
<pre>public&nbsp;long&nbsp;getClockTime()</pre>
<div class="block">Returns current time of internal clock synchronized with the relay's clock (in ms).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current clock time in ms (zero arbitrarily) or 0,
 if not synchronized or not connected</dd></dl>
</li>
</ul>
<a name="sendSynchRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendSynchRequest</h4>
<pre>public&nbsp;int&nbsp;sendSynchRequest()</pre>
<div class="block">Sends a clock synchronization request on a new TCP/IP channel
 (not influenced by the current traffic between the relay and the node).
 The precision is typically better than 50 ms. Blocks until the reply is
 received or a timeout of 1 s is reached.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the measured signal travel time from sending the request until
 receiving the reply (in ms). (The local clock is corrected by
 half this value, neglecting the difference of up- and download time and
 the time the relay needs to handle the request.)
 Returns -1 if the synch request failed because the node is not connected or
 the timeout is reached</dd></dl>
</li>
</ul>
<a name="getTcpNode()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTcpNode</h4>
<pre>public&nbsp;<a href="../../../ch/aplu/tcp/TcpNode.html" title="class in ch.aplu.tcp">TcpNode</a>&nbsp;getTcpNode()</pre>
<div class="block">Returns the TcpNode reference responsible for the connection.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the internal TcpNode reference</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/aplu/tcp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ch/aplu/tcp/TcpAgentListener.html" title="interface in ch.aplu.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ch/aplu/tcp/TcpBridgeAdapter.html" title="class in ch.aplu.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/aplu/tcp/TcpBridge.html" target="_top">Frames</a></li>
<li><a href="TcpBridge.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
