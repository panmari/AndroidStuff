<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0) on Fri Oct 07 01:01:00 CEST 2011 -->
<title>TcpNode</title>
<meta name="date" content="2011-10-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TcpNode";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/aplu/tcp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ch/aplu/tcp/TcpBridgeListener.html" title="interface in ch.aplu.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ch/aplu/tcp/TcpNodeAdapter.html" title="class in ch.aplu.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/aplu/tcp/TcpNode.html" target="_top">Frames</a></li>
<li><a href="TcpNode.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.aplu.tcp</div>
<h2 title="Class TcpNode" class="title">Class TcpNode</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ch.aplu.tcp.TcpNode</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">TcpNode</span>
extends java.lang.Object</pre>
<div class="block">TcpNode instances are interlinked via the TCP/IP protocol through a TcpRelay.
 Seen from the network, they acts as HTTP clients with continously opened
 input and output streams. Several nodes may run on the same computer, but
 due to restricted bandwidth on heavily loaded machines, data may get lost,
 if too many nodes run in parallel.<br><br>
 TcpNodes  may be located behind a firewall that only permits HTTP connections
 on port 80 (like Internet browsers).<br><br>
 TcpNode is completely event driven: incoming data and status information
 are notified by event callback method declared in the TcpNodeListener interface.<br><br>
 A node clock may be synchronized with the relay clock obtaining a precision of
 typically 10 ms. This is useful to trigger events at the same time on different nodes
 by transmitting the time it should happen.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#GET_PERSONAL_NODE">GET_PERSONAL_NODE</a></strong></code>
<div class="block">Relay request for reclaiming the nickname of the requesting node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#GET_SERVER_STATUS">GET_SERVER_STATUS</a></strong></code>
<div class="block">Relay request for reclaiming the current server status.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#TcpNode()">TcpNode</a></strong>()</code>
<div class="block">Creates a TcpNode that will use the relay and port defined in the
 TcpProperties file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#TcpNode(java.lang.String, int)">TcpNode</a></strong>(java.lang.String&nbsp;relay,
       int&nbsp;port)</code>
<div class="block">Creates a TcpNode that will use the given relay listening on the given ip port.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#TcpNode(java.lang.String, int, java.lang.String)">TcpNode</a></strong>(java.lang.String&nbsp;relay,
       int&nbsp;port,
       java.lang.String&nbsp;relayID)</code>
<div class="block">Creates a TcpNode that will use the given relay listening on the given ip port.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#addTcpNodeListener(ch.aplu.tcp.TcpNodeListener)">addTcpNodeListener</a></strong>(<a href="../../../ch/aplu/tcp/TcpNodeListener.html" title="interface in ch.aplu.tcp">TcpNodeListener</a>&nbsp;listener)</code>
<div class="block">Registers a TcpNodeListener to get connection and data notifications.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#connect(java.lang.String, java.lang.String)">connect</a></strong>(java.lang.String&nbsp;sessionID,
       java.lang.String&nbsp;nickname)</code>
<div class="block">Same as connect(sessionID, nickname, 1, 1, 1):</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#connect(java.lang.String, java.lang.String, int, int, int)">connect</a></strong>(java.lang.String&nbsp;sessionID,
       java.lang.String&nbsp;nickname,
       int&nbsp;connectTag,
       int&nbsp;disconnectTag,
       int&nbsp;newNodeTag)</code>
<div class="block">If the connect state is TcpNodeState.DISCONNECTED, sets the state to
 TcpNodeState.CONNECTING and lauches a connection trial, then returns.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#disconnect()">disconnect</a></strong>()</code>
<div class="block">Disconnects from the relay.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#getClockTime()">getClockTime</a></strong>()</code>
<div class="block">Returns current time of internal clock synchronized with the relay's clock (in ms).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#getNickname()">getNickname</a></strong>()</code>
<div class="block">Returns the requested agent nickname when connecting to the relay.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../ch/aplu/tcp/TcpNodeState.html" title="enum in ch.aplu.tcp">TcpNodeState</a></code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#getNodeState()">getNodeState</a></strong>()</code>
<div class="block">Returns the node state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#getPort()">getPort</a></strong>()</code>
<div class="block">Returns the IP port number used by the relay server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#getRelay()">getRelay</a></strong>()</code>
<div class="block">Returns the IP address of the relay server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#getVersion()">getVersion</a></strong>()</code>
<div class="block">Returns current version information of TcpALib.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#sendIntMessage(int...)">sendIntMessage</a></strong>(int...&nbsp;data)</code>
<div class="block">Sends an integer array to all node by concatenating each number
 with a '&' separator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#sendIntMessage(java.lang.String, int...)">sendIntMessage</a></strong>(java.lang.String&nbsp;destination,
              int...&nbsp;data)</code>
<div class="block">Sends an integer array to the destination nodes (except the sending node)
 by concatenating each number with a '&' separator.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#sendMessage(java.lang.String)">sendMessage</a></strong>(java.lang.String&nbsp;line)</code>
<div class="block">Sends a message to all nodes (except the sending node)
 in the same sessions (via the relay).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#sendMessage(java.lang.String, java.lang.String)">sendMessage</a></strong>(java.lang.String&nbsp;destination,
           java.lang.String&nbsp;line)</code>
<div class="block">Sends a message to the given destination node (via the relay).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#sendRelayRequest(java.lang.String)">sendRelayRequest</a></strong>(java.lang.String&nbsp;request)</code>
<div class="block">Sends a request to the relay.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../ch/aplu/tcp/TcpNode.html#sendSynchRequest()">sendSynchRequest</a></strong>()</code>
<div class="block">Sends a clock synchronization request on a new TCP/IP channel
 (not influenced by the current traffic between the relay and the node).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="GET_SERVER_STATUS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GET_SERVER_STATUS</h4>
<pre>public static final&nbsp;java.lang.String GET_SERVER_STATUS</pre>
<div class="block">Relay request for reclaiming the current server status.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#ch.aplu.tcp.TcpNode.GET_SERVER_STATUS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="GET_PERSONAL_NODE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GET_PERSONAL_NODE</h4>
<pre>public static final&nbsp;java.lang.String GET_PERSONAL_NODE</pre>
<div class="block">Relay request for reclaiming the nickname of the requesting node.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#ch.aplu.tcp.TcpNode.GET_PERSONAL_NODE">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TcpNode(java.lang.String, int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TcpNode</h4>
<pre>public&nbsp;TcpNode(java.lang.String&nbsp;relay,
       int&nbsp;port,
       java.lang.String&nbsp;relayID)</pre>
<div class="block">Creates a TcpNode that will use the given relay listening on the given ip port.
 Does not use the TcpALib.properties file</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>relay</code> - </dd><dd><code>port</code> - </dd></dl>
</li>
</ul>
<a name="TcpNode(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TcpNode</h4>
<pre>public&nbsp;TcpNode(java.lang.String&nbsp;relay,
       int&nbsp;port)</pre>
<div class="block">Creates a TcpNode that will use the given relay listening on the given ip port.
 Uses the relay ID found in the TcpALib.properties file or the default value
 if the properties file or the RelayID entry is not found.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>relay</code> - </dd><dd><code>port</code> - </dd></dl>
</li>
</ul>
<a name="TcpNode()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TcpNode</h4>
<pre>public&nbsp;TcpNode()</pre>
<div class="block">Creates a TcpNode that will use the relay and port defined in the
 TcpProperties file. If the file or an entry is not found, the following
 default values are used <br><br>
 RelayID: clab3.phbern.ch
 RelayPort: 80
 RelayID: the ID of the server clab3.phbern.ch</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="connect(java.lang.String, java.lang.String, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(java.lang.String&nbsp;sessionID,
           java.lang.String&nbsp;nickname,
           int&nbsp;connectTag,
           int&nbsp;disconnectTag,
           int&nbsp;newNodeTag)</pre>
<div class="block">If the connect state is TcpNodeState.DISCONNECTED, sets the state to
 TcpNodeState.CONNECTING and lauches a connection trial, then returns. When the connection is
 established, the state is set to TcpNodeState.CONNECTED, if it fails the state
 is set to TcpNodeState.DISCONNECTED. If a connection listener is registrated, 
 a connect notification is fired with the appropriate connect state parameter.
 After connection the relay sends status information that triggers a statusReceived()
 notification. The format can be slightly adapted by using the tags 0,1,2.<br><br>
 Keep in mind that when connect() returns, the connection may not yet been established.
 Either put the calling thread to sleep and wake it up when you get a connection
 notification or poll the node state with getNodeState() to wait for connection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sessionID</code> - a unique session ID that binds all node in the same session together.
 Characters < 32 and > 127 ignored</dd><dd><code>nickname</code> - a name that characterizes the node. If two nodes requests the same
 name, the relay appends an increasing version number (n). 
 Characters < 32 and > 127 ignored</dd><dd><code>connectTag</code> - 0: no report, 1: report nickname, 2: report ip address + nickname;
 otherwise same as 0</dd><dd><code>disconnectTag</code> - 0: no report, 1: report nickname, 2: report ip address + nickname;
 otherwise same as 0</dd><dd><code>newNodeTag</code> - 0: no report, 1: report nickname, 2: report ip address + nickname;
 otherwise same as 0</dd></dl>
</li>
</ul>
<a name="connect(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(java.lang.String&nbsp;sessionID,
           java.lang.String&nbsp;nickname)</pre>
<div class="block">Same as connect(sessionID, nickname, 1, 1, 1):</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sessionID</code> - a unique session ID that binds all node in the same session together.
 Characters < 32 and > 127 ignored</dd><dd><code>nickname</code> - a name that characterizes the node. If two nodes requests the same
 name, the relay appends an increasing version number (n). 
 Characters < 32 and > 127 ignored</dd></dl>
</li>
</ul>
<a name="getNickname()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNickname</h4>
<pre>public&nbsp;java.lang.String&nbsp;getNickname()</pre>
<div class="block">Returns the requested agent nickname when connecting to the relay.
 After connection, the relay may append a (n) trailer to resolve name clashs.
 You may analyze the status report from the relay to determine the attributed nickname.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the nickname given when connecting to the relay, empty if not yet connected</dd></dl>
</li>
</ul>
<a name="sendMessage(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;void&nbsp;sendMessage(java.lang.String&nbsp;line)</pre>
<div class="block">Sends a message to all nodes (except the sending node)
 in the same sessions (via the relay).
 If not connected, returns immediately.
 If line contains line separators, the following part is considered
 to be a new line to send.
 Line length restricted to 500 characters for security reasons (relaying
 stopped, if exceeded). The method is synchronized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>line</code> - the data to send to all other nodes</dd></dl>
</li>
</ul>
<a name="sendMessage(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;void&nbsp;sendMessage(java.lang.String&nbsp;destination,
               java.lang.String&nbsp;line)</pre>
<div class="block">Sends a message to the given destination node (via the relay).
 It is possible to echo back data by using the name of the sending
 node.
 If not connected, returns immediately.
 If line contains line separators, the following part is considered
 to be a new line to send.
 Line length restricted to 500 characters for security reasons (relaying
 stopped, if exceeded). The method is synchronized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>destination</code> - the nickname (attributed by the relay)
 of the destination node</dd><dd><code>line</code> - the data to send</dd></dl>
</li>
</ul>
<a name="sendIntMessage(java.lang.String, int...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendIntMessage</h4>
<pre>public&nbsp;void&nbsp;sendIntMessage(java.lang.String&nbsp;destination,
                  int...&nbsp;data)</pre>
<div class="block">Sends an integer array to the destination nodes (except the sending node)
 by concatenating each number with a '&' separator.
 If not connected, returns immediately. The method is synchronized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - the integer array to send</dd></dl>
</li>
</ul>
<a name="sendIntMessage(int...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendIntMessage</h4>
<pre>public&nbsp;void&nbsp;sendIntMessage(int...&nbsp;data)</pre>
<div class="block">Sends an integer array to all node by concatenating each number
 with a '&' separator.
 If not connected, returns immediately. The method is synchronized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - the integer array to send</dd></dl>
</li>
</ul>
<a name="sendSynchRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendSynchRequest</h4>
<pre>public&nbsp;int&nbsp;sendSynchRequest()</pre>
<div class="block">Sends a clock synchronization request on a new TCP/IP channel
 (not influenced by the current traffic between the relay and the node).
 The precision is typically better than 50 ms. Blocks until the reply is
 received or a timeout of 1 s is reached. The method is synchronized.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the measured signal travel time from sending the request until
 receiving the reply (in ms). (The local clock is corrected by
 half this value, neglecting the difference of up- and download time and
 the time the relay needs to handle the request.)
 Returns -1 if the synch request failed because the node is not connected or
 the timeout is reached</dd></dl>
</li>
</ul>
<a name="sendRelayRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendRelayRequest</h4>
<pre>public&nbsp;void&nbsp;sendRelayRequest(java.lang.String&nbsp;request)</pre>
<div class="block">Sends a request to the relay.
 If not connected, returns immediately.
 The response is sent back from the relay as status data. The method is synchronized.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - one the the static request constants defined in class TcpNode</dd></dl>
</li>
</ul>
<a name="disconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Disconnects from the relay.
 A disconnect notification is sent to all nodes that registered a 
 TcpAgentListener.
 If not connected, returns immediately.</div>
</li>
</ul>
<a name="getNodeState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNodeState</h4>
<pre>public&nbsp;<a href="../../../ch/aplu/tcp/TcpNodeState.html" title="enum in ch.aplu.tcp">TcpNodeState</a>&nbsp;getNodeState()</pre>
<div class="block">Returns the node state.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current node state (one of the values defined in the
 TcpNodeState enumeration)</dd></dl>
</li>
</ul>
<a name="addTcpNodeListener(ch.aplu.tcp.TcpNodeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTcpNodeListener</h4>
<pre>public&nbsp;void&nbsp;addTcpNodeListener(<a href="../../../ch/aplu/tcp/TcpNodeListener.html" title="interface in ch.aplu.tcp">TcpNodeListener</a>&nbsp;listener)</pre>
<div class="block">Registers a TcpNodeListener to get connection and data notifications.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the listener to register</dd></dl>
</li>
</ul>
<a name="getRelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRelay</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRelay()</pre>
<div class="block">Returns the IP address of the relay server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the IP address of the relay as used when connecting (dotted notation
 or alias)</dd></dl>
</li>
</ul>
<a name="getPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPort</h4>
<pre>public&nbsp;int&nbsp;getPort()</pre>
<div class="block">Returns the IP port number used by the relay server.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the port number</dd></dl>
</li>
</ul>
<a name="getVersion()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVersion</h4>
<pre>public&nbsp;java.lang.String&nbsp;getVersion()</pre>
<div class="block">Returns current version information of TcpALib.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>version information</dd></dl>
</li>
</ul>
<a name="getClockTime()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getClockTime</h4>
<pre>public&nbsp;long&nbsp;getClockTime()</pre>
<div class="block">Returns current time of internal clock synchronized with the relay's clock (in ms).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current clock time in ms (zero arbitrarily) or 0, 
 if not synchronized or not connected</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../ch/aplu/tcp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ch/aplu/tcp/TcpBridgeListener.html" title="interface in ch.aplu.tcp"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ch/aplu/tcp/TcpNodeAdapter.html" title="class in ch.aplu.tcp"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ch/aplu/tcp/TcpNode.html" target="_top">Frames</a></li>
<li><a href="TcpNode.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
